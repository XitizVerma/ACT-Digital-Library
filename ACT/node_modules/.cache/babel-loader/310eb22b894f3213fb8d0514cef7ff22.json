{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\ACT-Digital-Library-main\\\\act\\\\src\\\\components\\\\Admin.jsx\";\nimport React from \"react\";\nimport './index.css';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.multipleFileChangedHandler = event => {\n      this.setState({\n        selectedFiles: event.target.files\n      });\n      console.log(event.target.files);\n      alert(\"All the Files have been uploaded to the ACT Cloud Library!\");\n    };\n\n    this.multipleFileUploadHandler = () => {\n      const data = new FormData();\n      let selectedFiles = this.state.selectedFiles; // If file selected\n\n      if (selectedFiles) {\n        for (let i = 0; i < selectedFiles.length; i++) {\n          data.append('galleryImage', selectedFiles[i], selectedFiles[i].name);\n        }\n\n        axios.post('/backend/s3Upload/multiple-file-upload', data, {\n          headers: {\n            'accept': 'application/json',\n            'Accept-Language': 'en-US,en;q=0.8',\n            'Content-Type': `multipart/form-data; boundary=${data._boundary}`\n          }\n        }).then(response => {\n          console.log('res', response);\n\n          if (200 === response.status) {\n            // If file size is larger than expected.\n            if (response.data.error) {\n              if ('LIMIT_FILE_SIZE' === response.data.error.code) {\n                this.ocShowAlert('Max size: 1GB', 'red');\n              } else if ('LIMIT_UNEXPECTED_FILE' === response.data.error.code) {\n                this.ocShowAlert('Max 1000 docs allowed', 'red');\n              }\n            } else {\n              // Success\n              let fileName = response.data;\n              console.log('fileName', fileName);\n              this.ocShowAlert('File Uploaded', '#3089cf');\n            }\n          }\n        }).catch(error => {\n          // If another error\n          this.ocShowAlert(error, 'red');\n        });\n      } else {\n        // if file not selected throw error\n        this.ocShowAlert('Please upload file', 'red');\n      }\n    };\n\n    this.ocShowAlert = (message, background = '#3089cf') => {\n      let alertContainer = document.querySelector('#oc-alert-container'),\n          alertEl = document.createElement('div'),\n          textNode = document.createTextNode(message);\n      alertEl.setAttribute('class', 'oc-alert-pop-up');\n      $(alertEl).css('background', background);\n      alertEl.appendChild(textNode);\n      alertContainer.appendChild(alertEl);\n      setTimeout(function () {\n        $(alertEl).fadeOut('slow');\n        $(alertEl).remove();\n      }, 3000);\n    };\n\n    this.state = {\n      selectedFiles: null\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: \"Courier New\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            color: \"rgb(3, 5, 141)\",\n            textAlign: \"center\",\n            fontSize: \"6rem\",\n            margin: 0\n          },\n          children: \"Admin Portal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            width: \"90%\",\n            backgroundColor: \"rgb(0, 22, 119)\",\n            height: \"8px\",\n            borderRadius: \"10px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"webkit\",\n          style: {\n            color: \"rgb(0, 200, 250)\",\n            textAlign: \"center\",\n            fontSize: \"3rem\",\n            marginTop: 0\n          },\n          children: \"Librarian Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n          class: \"enter\",\n          style: {\n            float: \"left\",\n            paddingLeft: \"8%\",\n            color: \"rgb(11, 11, 129)\"\n          },\n          children: \"Easily Manage Users, Books, Newsletters etc. from a Powerful Dashboard!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 97\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"enter\",\n          children: \"Enter the Book/Journal/Newsletter:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          class: \"aform\",\n          onsubmit: this.multipleFileUploadHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"in\",\n            type: \"file\",\n            name: \"Name\",\n            multiple: true,\n            placeholder: \"Enter the Book/Journal\",\n            onChange: this.multipleFileChangedHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"submit\",\n            type: \"submit\",\n            value: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Admin;","map":{"version":3,"sources":["C:/Users/HP/Desktop/ACT-Digital-Library-main/act/src/components/Admin.jsx"],"names":["React","axios","$","Admin","Component","constructor","props","multipleFileChangedHandler","event","setState","selectedFiles","target","files","console","log","alert","multipleFileUploadHandler","data","FormData","state","i","length","append","name","post","headers","_boundary","then","response","status","error","code","ocShowAlert","fileName","catch","message","background","alertContainer","document","querySelector","alertEl","createElement","textNode","createTextNode","setAttribute","css","appendChild","setTimeout","fadeOut","remove","render","fontFamily","color","textAlign","fontSize","margin","width","backgroundColor","height","borderRadius","marginTop","float","paddingLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport './index.css';\r\nimport axios from 'axios';\r\nimport $ from 'jquery';\r\nclass Admin extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            selectedFiles:null\r\n        }\r\n    }\r\n    multipleFileChangedHandler = (event) => {\r\n        this.setState({\r\n         selectedFiles: event.target.files\r\n        });\r\n        console.log( event.target.files );\r\n        alert(\"All the Files have been uploaded to the ACT Cloud Library!\");\r\n       };\r\n\r\n       multipleFileUploadHandler = () => {\r\n        \r\n        const data = new FormData();\r\n      let selectedFiles = this.state.selectedFiles;\r\n      // If file selected\r\n        if ( selectedFiles ) {\r\n         for ( let i = 0; i < selectedFiles.length; i++ ) {\r\n          data.append( 'galleryImage', selectedFiles[ i ], selectedFiles[ i ].name );\r\n         }\r\n      axios.post( '/backend/s3Upload/multiple-file-upload', data, {\r\n          headers: {\r\n           'accept': 'application/json',\r\n           'Accept-Language': 'en-US,en;q=0.8',\r\n           'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n          }\r\n         })\r\n          .then( ( response ) => {\r\n           console.log( 'res', response );\r\n      if ( 200 === response.status ) {\r\n            // If file size is larger than expected.\r\n            if( response.data.error ) {\r\n             if ( 'LIMIT_FILE_SIZE' === response.data.error.code ) {\r\n              this.ocShowAlert( 'Max size: 1GB', 'red' );\r\n             } else if ( 'LIMIT_UNEXPECTED_FILE' === response.data.error.code ){\r\n              this.ocShowAlert( 'Max 1000 docs allowed', 'red' );\r\n             }\r\n            } else {\r\n             // Success\r\n             let fileName = response.data;\r\n             console.log( 'fileName', fileName );\r\n             this.ocShowAlert( 'File Uploaded', '#3089cf' );\r\n      }\r\n           }\r\n          }).catch( ( error ) => {\r\n          // If another error\r\n          this.ocShowAlert( error, 'red' );\r\n         });\r\n        } else {\r\n         // if file not selected throw error\r\n         this.ocShowAlert( 'Please upload file', 'red' );\r\n        }\r\n      };\r\n        // ShowAlert Function\r\n      ocShowAlert = ( message, background = '#3089cf' ) => {\r\n        let alertContainer = document.querySelector( '#oc-alert-container' ),\r\n        alertEl = document.createElement( 'div' ),\r\n        textNode = document.createTextNode( message );\r\n        alertEl.setAttribute( 'class', 'oc-alert-pop-up' );\r\n        $( alertEl ).css( 'background', background );\r\n        alertEl.appendChild( textNode );\r\n        alertContainer.appendChild( alertEl );\r\n        setTimeout( function () {\r\n        $( alertEl ).fadeOut( 'slow' );\r\n        $( alertEl ).remove();\r\n        }, 3000 );\r\n    };\r\n      render() {\r\n        return (\r\n        <div>\r\n        <div style={{fontFamily: \"Courier New\"}}>\r\n            <h1 style={{color: \"rgb(3, 5, 141)\", textAlign:\"center\",fontSize:\"6rem\",margin:0}}>\r\n                Admin Portal</h1>\r\n            <hr style={{width: \"90%\", backgroundColor:\"rgb(0, 22, 119)\",height: \"8px\",borderRadius:\"10px\"}}/>\r\n            <h1 class=\"webkit\" style={{color: \"rgb(0, 200, 250)\",textAlign:\"center\",fontSize:\"3rem\",marginTop:0}}>\r\n                Librarian Dashboard</h1>\r\n            <header class=\"enter\" style={{float:\"left\",paddingLeft:\"8%\",color:\"rgb(11, 11, 129)\"}}>\r\n                Easily Manage Users, Books, Newsletters etc. from a Powerful Dashboard!</header><br/>\r\n            <p class=\"enter\">Enter the Book/Journal/Newsletter:</p>\r\n            <form class=\"aform\" onsubmit={this.multipleFileUploadHandler}>\r\n                <input  class=\"in\" type=\"file\" name=\"Name\" multiple placeholder=\"Enter the Book/Journal\" \r\n                    onChange={this.multipleFileChangedHandler}/>\r\n                <input class=\"submit\" type=\"submit\" value=\"Upload\" />\r\n            </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n}\r\nexport default Admin;\r\n"]},"metadata":{},"sourceType":"module"}